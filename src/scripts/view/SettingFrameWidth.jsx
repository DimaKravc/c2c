import React from 'react';
import Slider from 'rc-slider';

const MARKS = {
    0: <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fillRule="nonzero" fill="#37474F"><path d="M31.91 14.23v20.798c0 1.237-1.019 2.238-2.269 2.238H18.268c-1.25 0-2.268-1-2.268-2.238V14.23c0-1.237 1.018-2.238 2.268-2.238h11.373c1.25 0 2.268 1 2.268 2.238zm-.945 0c0-.712-.592-1.293-1.324-1.293H18.268c-.732 0-1.324.581-1.324 1.293v20.798c0 .712.592 1.293 1.324 1.293h11.373c.732 0 1.324-.581 1.324-1.293V14.23z"/><path d="M23.955 34.52a.295.295 0 0 0-.301.287c0 .157.133.288.3.288.168 0 .302-.13.302-.288a.295.295 0 0 0-.301-.288zm0-.945c.685 0 1.245.55 1.245 1.232a1.24 1.24 0 0 1-1.245 1.233 1.24 1.24 0 0 1-1.246-1.233c0-.682.56-1.232 1.246-1.232zM16.472 15.124h14.833v-.944H16.472zM16.472 33.089h14.833v-.945H16.472z"/></g></svg>,
    1: <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fillRule="nonzero" fill="#37474F"><path d="M34.601 14.979v19.3c0 1.64-1.316 2.973-2.94 2.973H15.94c-1.625 0-2.941-1.333-2.941-2.973v-19.3c0-1.64 1.316-2.973 2.94-2.973h15.72c1.625 0 2.941 1.333 2.941 2.973zm-.916 0c0-1.136-.909-2.056-2.024-2.056H15.94c-1.116 0-2.024.92-2.024 2.056v19.3c0 1.136.908 2.056 2.023 2.056h15.72c1.116 0 2.025-.92 2.025-2.056v-19.3z"/><path d="M23.8 34.505a.297.297 0 0 0-.292.302c0 .168.133.302.293.302.16 0 .292-.134.292-.302a.297.297 0 0 0-.292-.302zm0-.916c.67 0 1.21.547 1.21 1.218 0 .672-.54 1.219-1.21 1.219a1.214 1.214 0 0 1-1.208-1.219c0-.671.54-1.218 1.209-1.218zM15.287 33.075a.458.458 0 0 1-.459-.459V14.652c0-.253.205-.458.459-.458h16.892c.253 0 .458.205.458.458v17.964a.458.458 0 0 1-.458.459H15.287zm16.434-.917V15.111H15.745v17.047H31.72z"/></g></svg>,
    2: <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fillRule="nonzero" fill="#37474F"><path d="M36.773 16.337v12.16c0 1.281-1.019 2.326-2.279 2.326H13.278c-1.26 0-2.278-1.045-2.278-2.326v-12.16c0-1.282 1.018-2.327 2.278-2.327h21.216c1.26 0 2.279 1.045 2.279 2.327zm-.813 0c0-.838-.66-1.514-1.466-1.514H13.278c-.806 0-1.466.676-1.466 1.514v12.16c0 .837.66 1.513 1.466 1.513h21.216c.807 0 1.466-.676 1.466-1.513v-12.16zM36.773 32.303v1.242a.6.6 0 0 1-.598.602H11.597a.6.6 0 0 1-.597-.602v-1.242a.6.6 0 0 1 .597-.602h24.578a.6.6 0 0 1 .598.602zm-24.96.21v.822H35.96v-.821H11.812z"/><path d="M13.278 29.263a.406.406 0 0 1-.406-.406v-12.88c0-.225.182-.407.406-.407h21.216c.225 0 .407.182.407.406v12.88a.406.406 0 0 1-.407.407H13.278zm20.81-.813V16.383H13.684V28.45h20.404z"/></g></svg>,
    3: <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fillRule="nonzero" fill="#37474F"><path d="M37.755 13.94v15.797c0 1.616-1.29 2.931-2.882 2.931H12.882c-1.593 0-2.882-1.315-2.882-2.931V13.94c0-1.617 1.289-2.932 2.882-2.932h21.991c1.593 0 2.882 1.315 2.882 2.932zm-.875 0c0-1.136-.901-2.056-2.007-2.056H12.882c-1.106 0-2.007.92-2.007 2.057v15.796c0 1.137.901 2.056 2.007 2.056h21.991c1.106 0 2.007-.92 2.007-2.056V13.94zM27.123 34.252v1.33a.645.645 0 0 1-.643.648h-5.205a.645.645 0 0 1-.643-.647v-1.33c0-.356.286-.648.643-.648h5.205c.357 0 .643.292.643.647zm-5.616.228v.875h4.741v-.875h-4.741z"/><path d="M12.454 30.848a.437.437 0 0 1-.438-.438V13.267c0-.241.196-.437.438-.437H35.3c.242 0 .438.196.438.437V30.41a.437.437 0 0 1-.437.438H12.454zm22.41-.875V13.704H12.891v16.267h21.973z"/></g></svg>,
    4: <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fillRule="nonzero" fill="#37474F"><path d="M39.72 14.822v14.703a2.823 2.823 0 0 1-2.822 2.821H10.822A2.823 2.823 0 0 1 8 29.525V14.822A2.823 2.823 0 0 1 10.822 12h26.076a2.823 2.823 0 0 1 2.822 2.822zm-1 0A1.823 1.823 0 0 0 36.898 13H10.822A1.823 1.823 0 0 0 9 14.822v14.703c0 1.005.816 1.821 1.822 1.821h26.076a1.823 1.823 0 0 0 1.822-1.821V14.822zM26.055 33.796v1.49c0 .406-.329.735-.735.735H22.4a.735.735 0 0 1-.735-.735v-1.49c0-.406.329-.735.735-.735h2.92c.406 0 .735.329.735.735zm-3.39.265v.96h2.39v-.96h-2.39z"/><path d="M10.804 30.273a.5.5 0 0 1-.5-.5V14.566a.5.5 0 0 1 .5-.5h26.112a.5.5 0 0 1 .5.5v15.207a.5.5 0 0 1-.5.5H10.804zm25.612-1V15.066H11.304v14.207h25.112z"/></g></svg>
};

export default class FrameWidth extends React.Component {
    constructor(props) {
        super(props);

        this.handleChange = this.handleChange.bind(this);
    };

    handleChange(pos) {
        let width = this.props.settings.sizes[pos];
        
        this.props.callback({
            id: 'frameWidth',
            prop: width
        });
    };

    shouldComponentUpdate(nextProps) {
        return this.props.settings.frameWidth !== nextProps.settings.frameWidth
    };

    render() {

        let value;

        for (let k in this.props.settings.sizes) {
            if (this.props.settings.sizes[k] === this.props.settings.frameWidth) {
                value = parseInt(k);
                break;
            }
        }

        return (
            <div className="setting-item frame-width">
                <div className="setting-item__header">
                    <h3 className="setting-item__title">Размеры фрейма</h3>
                </div>
                <Slider dots marks={MARKS} max={this.props.settings.sizes.length - 1} step={1} value={value} onChange={this.handleChange}/>
                <dl className="display-value">
                    <dt>Ширина фрейма:</dt>
                    <dd>{this.props.settings.frameWidth} px</dd>
                </dl>
            </div>
        );
    };
}